<!DOCTYPE html>
<html class="light" lang="fr">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>Message pour Estha</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect" />
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500&amp;family=Playfair+Display:italic,wght@400;700&amp;display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet" />
    <link
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&amp;display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#ff758c",
                        "primary-hover": "#ff5e78",
                        "background-light": "#f8f5f6",
                        "background-dark": "#230f12",
                    },
                    fontFamily: {
                        "sans": ["Poppins", "sans-serif"],
                        "serif": ["Playfair Display", "serif"]
                    },
                    borderRadius: {
                        "DEFAULT": "1rem",
                        "lg": "2rem",
                        "xl": "3rem",
                        "full": "9999px"
                    },
                },
            },
        }
    </script>
    <style type="text/tailwindcss">
        :root {
            --glass-bg: rgba(255, 255, 255, 0.45);
            --glass-border: rgba(255, 255, 255, 0.5);
        }
        body {
            font-family: 'Poppins', sans-serif;
            overflow-x: hidden;
            overflow-y: auto;
        }
        .glass-card {
            background: var(--glass-bg);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid var(--glass-border);
            box-shadow: 0 20px 50px rgba(255, 117, 140, 0.1);
        }
        .floating-heart {
            position: absolute;
            color: #ff758c;
            opacity: 0.15;
            pointer-events: none;
            z-index: 0;
            animation: float 15s infinite ease-in-out;
        }
        @keyframes float {
            0%, 100% { transform: translateY(0) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(10deg); }
        }
        .gradient-bg {
            background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%);
        }
        .audio-wave {
            display: flex;
            align-items: center;
            gap: 2px;
            height: 16px;
        }
        .audio-bar {
            width: 3px;
            background: #ff758c;
            border-radius: 1px;
            animation: wave 1s ease-in-out infinite;
        }
        @keyframes wave {
            0%, 100% { height: 4px; }
            50% { height: 16px; }
        }
        .audio-bar:nth-child(2) { animation-delay: 0.1s; }
        .audio-bar:nth-child(3) { animation-delay: 0.2s; }
        .audio-bar:nth-child(4) { animation-delay: 0.3s; }
        .letter-content {
            line-height: 1.8;
            letter-spacing: 0.01em;
        }
        .material-symbols-outlined, .material-icons, .material-icons-round, .material-icons-outlined, .material-icons-sharp {
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        .fonts-loaded .material-symbols-outlined, 
        .fonts-loaded .material-icons,
        .fonts-loaded .material-icons-round, 
        .fonts-loaded .material-icons-outlined,
        .fonts-loaded .material-icons-sharp {
            opacity: 1;
        }
    </style>
</head>

<body class="gradient-bg min-h-screen relative px-6 py-20 flex items-center justify-center">
    <audio id="bg-music" src="son/J'ai peur de te perdre.mp3" loop></audio>

    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <img alt="Soft pink blurred romantic floral background"
            class="absolute inset-0 w-full h-full object-cover opacity-20 mix-blend-overlay"
            src="https://lh3.googleusercontent.com/aida-public/AB6AXuDiTmad3H3dWixZ6vC0PQt7d9JoTY5xMK_mNNe67by8G7JOHN3Uj1YoPDjZyCGE_qP69AvBXygBTN51pea1nabfWantleu9h3ByaBw4CCoPxeHihRTAv1L_XeaK5OSbIWEw9gBO-HvgQOGpQObo_ddaONCzfpa2phuw7cksbpxNq9NDTZiQdPAZZ8-263EXed-VQJX39qwRfoIlfJbouXZUXNOEao6GCN6hsc1Lawvu61S7qsI7e95B19Z49izVKH6Bv2LuWV7_gX0" />
        <span class="material-icons-outlined floating-heart text-4xl" style="top: 10%; left: 5%;">favorite</span>
        <span class="material-icons-outlined floating-heart text-2xl" style="top: 30%; left: 25%;">favorite</span>
        <span class="material-icons-outlined floating-heart text-5xl" style="top: 70%; left: 12%;">favorite</span>
        <span class="material-icons-outlined floating-heart text-3xl" style="top: 15%; right: 15%;">favorite</span>
        <span class="material-icons-outlined floating-heart text-6xl" style="top: 55%; right: 8%;">favorite</span>
        <span class="material-icons-outlined floating-heart text-4xl" style="top: 80%; right: 18%;">favorite</span>
    </div>

    <main class="relative z-10 w-full max-w-3xl my-auto">
        <a href="index.html"
            class="fixed top-6 left-6 md:top-8 md:left-8 text-white/70 hover:text-white transition-colors flex items-center gap-2 text-[10px] md:text-sm font-medium tracking-widest uppercase z-30 bg-black/10 backdrop-blur-md px-4 py-2 rounded-full border border-white/20">
            <span class="material-symbols-outlined text-xs md:text-sm">arrow_back</span>
            Retour
        </a>

        <div class="glass-card p-6 md:p-16 rounded-2xl md:rounded-lg text-left relative overflow-hidden mt-4 md:mt-0">
            <div class="mb-6 md:mb-10 flex justify-between items-start">
                <div class="space-y-1">
                    <p class="text-primary font-medium tracking-widest uppercase text-[10px] md:xs">14 Février 2026</p>
                    <h2 class="text-2xl md:text-3xl font-serif italic text-background-dark/80">Ma chère Estha,</h2>
                </div>
                <div
                    class="w-10 h-10 md:w-12 md:h-12 bg-white/40 rounded-full flex items-center justify-center border border-white/60">
                    <span class="material-symbols-outlined text-primary text-xl md:text-2xl fill-1">favorite</span>
                </div>
            </div>
            <div id="typewriter-container"
                class="letter-content text-base md:text-xl text-background-dark/80 font-light space-y-4 md:space-y-6">
                <!-- Content will be typed here -->
            </div>
            <div id="signature" class="mt-8 md:mt-12 text-right opacity-0 transition-opacity duration-1000">
                <p class="font-serif italic text-xl md:text-2xl text-primary">— Mikaël</p>
            </div>
            <div
                class="absolute bottom-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-primary/30 to-transparent">
            </div>
        </div>
    </main>

    <div onclick="toggleAudio()"
        class="fixed bottom-6 md:bottom-8 right-6 md:right-8 flex items-center gap-3 md:gap-4 bg-white/40 backdrop-blur-md px-4 md:px-5 py-2 md:py-3 rounded-full border border-white/60 shadow-xl group cursor-pointer hover:bg-white/50 transition-all">
        <div id="wave-container" class="audio-wave opacity-50 group-[.playing]:opacity-100">
            <div class="audio-bar"></div>
            <div class="audio-bar"></div>
            <div class="audio-bar"></div>
            <div class="audio-bar"></div>
        </div>
        <span class="text-[10px] md:text-xs font-bold tracking-widest uppercase text-primary/80">Mon Amour</span>
        <button id="audio-btn"
            class="w-7 h-7 md:w-8 md:h-8 rounded-full bg-primary/20 flex items-center justify-center text-primary hover:bg-primary/30 transition-colors">
            <span class="material-symbols-outlined text-xs md:text-sm">play_arrow</span>
        </button>
        <div id="pulse-bg"
            class="absolute inset-0 rounded-full bg-primary/10 blur-md -z-10 hidden group-[.playing]:block animate-pulse">
        </div>
    </div>

    <div class="fixed bottom-6 md:bottom-8 left-6 md:left-8 flex items-center gap-3 text-white/70">
        <div class="flex items-center gap-2 text-[10px] md:text-xs font-medium tracking-widest uppercase">
            <span>Labé</span>
            <span class="material-symbols-outlined text-xs md:text-sm">straighten</span>
            <span>Dubreka</span>
        </div>
    </div>

    <div class="fixed top-6 right-6 md:top-8 md:right-8 flex items-center gap-3 z-30 flex-row-reverse">
        <div class="w-10 h-10 rounded-full overflow-hidden border-2 border-white/40 shadow-lg">
            <img alt="Portrait of Estha" class="w-full h-full object-cover"
                data-alt="Beautiful portrait of a woman smiling softly" src="images/profile.jpeg" />
        </div>
        <div class="text-[10px] font-bold tracking-widest text-white/80 uppercase text-right">
            Estha • Mon Amour
        </div>
    </div>

    <script>
        const audio = document.getElementById('bg-music');
        const audioBtn = document.getElementById('audio-btn');
        const wave = document.getElementById('wave-container');
        const pulse = document.getElementById('pulse-bg');
        const controlContainer = audioBtn.parentElement;

        const message = [
            "Les kilomètres qui nous séparent aujourd'hui ne sont que des chiffres sur une carte. Ils n'ont aucune prise sur la profondeur de ce que je ressens pour toi. Chaque jour loin de toi est un défi, mais c'est aussi une preuve supplémentaire de la force de notre lien.",
            "Ta présence habite mes pensées, ta voix résonne dans mes silences, et ton sourire est la lumière qui guide mes journées les plus grises. Être loin de toi, c'est apprendre à t'aimer avec l'âme avant de t'aimer avec les yeux.",
            "Merci d'être celle qui rend l'attente magnifique et l'avenir si prometteur. Je compte les jours jusqu'à ce que la distance ne soit plus qu'un lointain souvenir."
        ];

        function toggleAudio() {
            if (audio.paused) {
                audio.play();
                audioBtn.querySelector('span').textContent = 'pause';
                controlContainer.classList.add('playing');
            } else {
                audio.pause();
                audioBtn.querySelector('span').textContent = 'play_arrow';
                controlContainer.classList.remove('playing');
            }
        }

        async function typeMessage() {
            const container = document.getElementById('typewriter-container');
            const signature = document.getElementById('signature');

            for (let pIndex = 0; pIndex < message.length; pIndex++) {
                const p = document.createElement('p');
                container.appendChild(p);
                const text = message[pIndex];

                for (let i = 0; i < text.length; i++) {
                    p.textContent += text[i];
                    await new Promise(resolve => setTimeout(resolve, 35));
                }

                if (pIndex < message.length - 1) {
                    await new Promise(resolve => setTimeout(resolve, 500));
                }
            }

            signature.classList.remove('opacity-0');
        }

        window.onload = typeMessage;

        document.fonts.ready.then(() => {
            document.documentElement.classList.add('fonts-loaded');
        });
        // Fallback: Show icons after 2 seconds regardless of font status
        setTimeout(() => {
            document.documentElement.classList.add('fonts-loaded');
        }, 2000);
    </script>
</body>

</html>